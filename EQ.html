<!DOCTYPE html>
<html id="body" lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" 
      type="image/png" 
      href="EQF.png">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<title>EPIQUEST</title>
<script>
var question;
var fishing;
var current;
//defines audios b0ss
var mario = new Audio("dire.mp3");

//defines default name of the player as "0"
var name = "0";
//..info of player
var lvl = 1;
var xp = 0;
var inventory = [];
var money = 0;
var safe = 0;
var rod = 0;
var armor = 0;
var weapon = 0;
var key = 1;
//the beach level is in here
var beachchoose = function () {
		current = function () {
			document.getElementById('display').innerHTML = "We are at the beach. Fish, swim, or leave?";
			//if you choose to fish
			if (question.toUpperCase() == "FISH") {
				if (rod <= 15) {
					document.getElementById('display').innerHTML = "You go to fish!";
					//function to fish .. in case you want to fish directly
					var fishing = function () {
						//chooses a random fish
						if ((Math.random() * 100 + 0) <= 5) {
							current = function () {
								document.getElementById('display').innerHTML = name + " was attacked by a Guppy! You lost 5 money try again?";
								money -= 5;
								checkm();
								rod += 1;
								console.log("Money : " + money + ". Your rod recieved 1 dmg: rod " + rod)
								//if you want to fish again it will call fishing()
								if (question.toUpperCase() == "YES") { //it will check if your rod is still ok
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke! Leave to the town to fix it";
										setTimeout(function () {
											beachchoose()
										}, 1000);
									}
								} else if (question.toUpperCase() == "NO") { //if you didnt choose to fish again
									beachchoose()
								} //current when random
							} //repeats this over and over again for each fish you can get
						} else if ((Math.random() * 100) + 1 <= 10) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught.. kairy? Kairy fixed your fishing rod and dived back into the water! try again?";
								rod = 0;
								console.log("Rod dmg is " + rod);
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke! Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == 'NO') {
									beachchoose()
								}
							} //end of current random2
						} else if ((Math.random() * 100 + 1) <= 20) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught.... A boot - And It escaped. try again?", "yes no";
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == 'NO') {
									beachchoose()
								}
							} //end of current random2.5
						} else if ((Math.random() * 100 + 1) <= 25) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a Guppy! It's going in your inventory.. try again?", "yes no";
								inventory.push("Guppy");
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == 'NO') {
									beachchoose()
								}
							} ///current random 3
						} else if ((Math.random() * 100 + 1) <= 30) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a fruit-fish! Tasty... try again?", "yes no";
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == 'NO') {
									beachchoose()
								}
							} //current ranom 4
						} else if ((Math.random() * 100 + 1) <= 40) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a Glob! It's going in your inventory.. try again?", "yes no";
								inventory.push("Glob");
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == "NO") {
									beachchoose()
								}
							} //current random 5
						} else if ((Math.random() * 100 + 1) <= 50) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a Guaba-fish! Ew - it smells like your under-arms... It's going in your inventory! try again?", "yes no";
								inventory.push("Guaba");
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == "NO") {
									beachchoose()
								}
							} //current random 6
						} else if ((Math.random() * 100 + 1) <= 60) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught an alien-fish! Don't Panic! It goes into your inventory.. try again?", "yes no";
								inventory.push("Alien Fish");
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == "NO") {
									beachchoose()
								}
							} //random current
							current()
						} else if ((Math.random() * 100 + 1) <= 75) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a Money-fish! Money +10! try again?", "yes no";
								rod += 1;
								money += 10;
								console.log("Your rod recieved 1 dmg: rod " + rod + ". Your money is " + money + "!")
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() = "NO") {
									beachchoose()
								}
							} //random current
							current()
						} else if ((Math.random() * 100 + 1) <= 80) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a Rare-fish! It flew away.. try again?", "yes no";
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod)
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == 'NO') {
									beachchoose()
								}
							} //random current
							current()
						} else if ((Math.random() * 100 + 1) <= 85) {
							current = function () {
								document.getElementById('display').innerHTML = name + " caught a dragon-fish! You gained xp! It goes into your inventory.. try again?", "yes no";
								xp += 1;
								inventory.push("Dragon-fish");
								rod += 1;
								console.log("Your rod recieved 1 dmg: rod " + rod);
								check();
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == 'NO') {
									beachchoose()
								}
							} //random current
							current()
						} else {
							current = function () {
								document.getElementById('display').innerHTML = "You've caught nothin' try again?";
								if (question.toUpperCase() == "YES") {
									if (rod <= 15) {
										fishing()
									} else {
										document.getElementById('display').innerHTML = "Your rod broke!Leave to the town to fix it!";
										setTimeout(function () {
											beachchoose()
										}, 1500);
									}
								} else if (question.toUpperCase() == "NO") {
									beachchoose()
								}
							} //current random
							current()
						}
					}
					setTimeout(function () {
						fishing()
					}, 1500);
					console.log('fishing()')
				} else {
					document.getElementById('display').innerHTML = "Your rod has " + rod + " damage! Go fix it at the town!";
					setTimeout(function () {
						beachchoose()
					}, 1500);
				}
			} else if (question.toUpperCase() == "SWIM") {
				function swimming() {
					if ((Math.random() * 100) + 1 <= 2) {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in are stung by a deadly jellyfish! You go back to town and are treated You lose all your money and rod.";
							money = 0;
							rod = 0;
							console.log("You have " + money + " money and " + rod + "rod.");
							setTimeout(function () {
								townchoose()
							}, 2000);;
						} //end current
						current()
					} else if ((Math.random() * 100) + 1 <= 3) {
						current = function () {
							document.getElementById('display').innerHTML = name + " dives in and comes out with a golden ring! Try again?";
							money += 35;
							console.log("You have " + money + " money!")
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //current end
						current()
					} else if ((Math.random() * 100) + 1 <= 20) {
						current = function () {
							document.getElementById('display').innerHTML = name + " dives in and comes out with a moldy sock! Try again?", "Yes no";
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //endcu
						current()
					} else if ((Math.random() * 100) + 1 <= 22) {
						current = function () {
							document.getElementById('display').innerHTML = name + " dives in and is attacked by a boot-fish Your rod is badly damaged and you lost 10 money! Try again?";
							money -= 10;
							checkm();
							rod += 5;
							console.log("You have " + money + " money and " + rod + " rod dmg!")
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //encu
						current()
					} else if ((Math.random() * 100) + 1 <= 24) {
						current = function () {
							document.getElementById('display').innerHTML = name + " dives in and comes out with a sack of coins! Try again?";
							money += 10;
							console.log("You have " + money + " money!")
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else if ((Math.random() * 100) + 1 <= 40) {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in and come out with a barnacle! Try again?";
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else if ((Math.random() * 100) + 1 <= 42) {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in and come out with a new fishing rod!! Try again?";
							rod = 0;
							console.log("You have " + rod + " rod dmg")
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else if ((Math.random() * 100) + 1 <= 60) {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in and come out with a bunch of sand. Try again?";
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else if ((Math.random() * 100) + 1 <= 67) {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in and lose all of your money!! Try again?";
							money = 0;
							console.log("You have " + money + " money!")
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else if ((Math.random() * 100) + 1 <= 80) {
						current = function () {
							document.getElementById('display').innerHTML = name + " dives in and comes out with a nothing. Try again?";
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else if ((Math.random() * 100) + 1 <= 85) {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in and come out with a new part for your fishing rod! Try again?";
							rod -= 2;
							console.log("You have " + rod + " rod dmg!")
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						} //ec
						current()
					} else {
						current = function () {
							document.getElementById('display').innerHTML = "You dive in and come out with rocks! Try again?";
							if (question.toUpperCase() == "YES") {
								swimming();
							} else if (question.toUpperCase() == "NO") {
								beachchoose();
							}
						}
					} //ec
					current()
				}
				swimming();
			} else if (question.toUpperCase() == "LEAVE") {
				document.getElementById('display').innerHTML = "going to town";
				setTimeout(function () {
					townchoose()
				}, 1600);
			}
		} //current when beachchoose
		current()
	} //beachchoose
var townchoose = function () {
		var choosework = function () {
				current = function () {
					if ((Math.random() * 10) + 1 <= 2) {
						document.getElementById('display').innerHTML = "You go to the library and help out with storing while you've gained experience from reading. Also you get paid";
						money += 25;
						xp += 1;
						console.log('You have ' + xp + 'xp! ' + ' Money:' + money);
						check();
						setTimeout(function () {
							townchoose();
						}, 2500);
					} else if ((Math.random() * 10) + 1 >= 8) {
						document.getElementById('display').innerHTML = "While looking for a job you get robbed. You lose 10 money!";
						money -= 10;
						checkm();
						console.log('Money: ' + money);
						setTimeout(function () {
							townchoose();
						}, 2500);
					} else if ((Math.random() * 10) + 1 <= 4) {
						document.getElementById('display').innerHTML = "You work at the pub and get paid 15 money!";
						money += 15;
						console.log("Money: " + money);
						setTimeout(function () {
							townchoose();
						}, 2500);
					} else if ((Math.random() * 10) + 1 <= 7) {
						document.getElementById('display').innerHTML = "You go to the local car wash and gain some experience!";
						xp += 1;
						console.log('You have ' + xp + 'xp! ');
						check();
						setTimeout(function () {
							townchoose();
						}, 2500);
					} else {
						document.getElementById('display').innerHTML = "No one wants to hire you! Tough luck.";
						setTimeout(function () {
							townchoose();
						}, 2500);
					}
				} //end of current when choose work
				current()
			} //end of choosework
		if (lvl >= 3) {
			document.getElementById('display').innerHTML = "=TOWN= Work, fix, sell, safe, beach, forest, cave"
		} else if (lvl == 2) {
			document.getElementById('display').innerHTML = "=TOWN= Work, fix, sell, safe, beach, forest"
		} else {
			document.getElementById('display').innerHTML = "=TOWN= Work, fix, sell, safe, beach"
		}
		current = function () {
			if (question.toUpperCase() == "WORK") {
				choosework();
			} else if (question.toUpperCase() == "FIX") {
				current = function () {
					document.getElementById('display').innerHTML = "Fixing your rod will cost you " + rod + " money. Are you sure?";
					if (question.toUpperCase() == "YES") {
						if (money >= rod) {
							money -= rod;
							rod = 0;
							document.getElementById('display').innerHTML = "You have " + money + " money and " + rod + " dmg!";
							setTimeout(function () {
								townchoose();
							}, 2000);
						} else if (money <= rod) {
							document.getElementById('display').innerHTML = 'Not enough money';
							setTimeout(function () {
								townchoose();
							}, 2000);
						}
					} else if (question.toUpperCase() == 'NO') {
						townchoose()
					}
				} //end of current when fix
				current()
			} else if (question.toUpperCase() == "SELL" && inventory.length >= 1) {
				current = function () {
					document.getElementById('display').innerHTML = "your items are: " + inventory.join(', ') + ". Sell?";
					if (question.toUpperCase() == "YES") {
						money = money + inventory.length * 2.5;
						for (i = 0; i < inventory.length; i++) {
							delete inventory[i]
						};
						inventory.length = 0;
						document.getElementById('display').innerHTML = "You have sold all your items. Your money is " + money + ".";
						setTimeout(function () {
							townchoose()
						}, 2000);
					} else if (question.toUpperCase() == "NO") {
						setTimeout(function () {
							townchoose()
						}, 2000);
					}
				} //end of current when SELL 
				current()
			} else if (question.toUpperCase() == "SELL" && inventory.length < 1) {
				document.getElementById('display').innerHTML = "You have no items in your inventory..";
				setTimeout(function () {
					townchoose()
				}, 1800);
			} else if (question.toUpperCase() == "STATS") {
				document.getElementById('display').innerHTML = 'Your name: ' + name + '\b Your money: ' + money + '\b Your Safe: ' + safe + '\b Your rod dmg: ' + rod + '\b Your xp: ' + xp + '\b Your lvl: ' + lvl + '\b Your armor: ' + armor + "\b Your weapon: " + weapon;
				setTimeout(function () {
					townchoose()
				}, 5555);
			} else if (question.toUpperCase() == "BEACH") {
				beachchoose()
			} else if (question.toUpperCase() == "FOREST" && lvl >= 2) {
				document.getElementById('display').innerHTML = "We are on our way to the enchanted forest.......";
				setTimeout(function () {
					forestchoose()
				}, 1500);
			} else if (question.toUpperCase() == "CAVE" && lvl >= 3) {
				document.getElementById('display').innerHTML = "We are on our way to the cave.......";
				setTimeout(function () {
					cavechoose()
				}, 1500);
			} else if (question.toUpperCase() == "SAFE") {
				current = function () {
					document.getElementById('display').innerHTML = "Store your money or recover it?";
					if (question.toUpperCase() == "STORE") {
						if (money >= 1) {
							safe += money;
							money = 0;
							document.getElementById('display').innerHTML = 'You stored all your money in the safe';
							setTimeout(function () {
								townchoose()
							}, 1500);
						} else {
							document.getElementById('display').innerHTML = 'You have no money!';
							setTimeout(function () {
								townchoose()
							}, 1500);
						}
					} else if (question.toUpperCase() == "RECOVER") {
						if (safe >= 1) {
							money += safe;
							safe = 0;
							document.getElementById('display').innerHTML = 'You recovered all your money from the safe';
							setTimeout(function () {
								townchoose()
							}, 1500);
						} else {
							document.getElementById('display').innerHTML = 'There is nothing in the safe!';
							setTimeout(function () {
								townchoose()
							}, 1500);
						}
					}
				} //end of store/recover
				current()
			} else {
				confirm("Thats not an option");
				townchoose();
			}
		} //end of current, when you toenchoose
	} //townchoose
var forestchoose = function () {
		current = function () {
			document.getElementById('display').innerHTML = "There are three paths, one leads you to a shop, the other to an arena, and the last to hunting grounds. Which way to do you pick?";
			if (question.toUpperCase() == "ARENA") {
				document.getElementById('display').innerHTML = 'You head to the arena....';
				setTimeout(function () {
					arenachoose()
				}, 1500);
			} else if (question.toUpperCase() == "SHOP" || question.toUpperCase() == "FLOOP") {
				document.getElementById('display').innerHTML = "You are greeted by a cartoonish goblin named floop-flop";
				setTimeout(function () {
					document.getElementById('display').innerHTML = "floop-flop: BUY SOMESTUFF yeS? OOWeeE ITS TOPNPOTCH FOREST WEAPONS AND ARMOR YEs";
				}, 2000);
				setTimeout(function () {
					floop();
					setTimeout(function () {
						current()
					}, 10);
				}, 3200);
			} else if (question.toUpperCase() == "HUNT") {
				document.getElementById('display').innerHTML = 'You head to the hunting grounds...';
				setTimeout(function () {
					huntchoose()
				}, 1500);
			} else if (question.toUpperCase() == "LEAVE") {
				document.getElementById('display').innerHTML = 'You head to the town';
				setTimeout(function () {
					townchoose()
				}, 1600);
			}

			function floop() {
				current = function () {
					document.getElementById('display').innerHTML = "Upgrade Armor for 20 money, Upgrade Weapon for 15, or leave.";
					if (question.toUpperCase() == "ARMOR") {
						if (money >= 20) {
							document.getElementById('display').innerHTML = "Your armor goes up by 1 point! You lose 20 . Armor, weapon or leave?";
							armor += 1;
							money -= 20;
							console.log("Money: " + money + ". Armor: " + armor);
							current = function () {
								floop()
							}
						} else if (money <= 20) {
							document.getElementById('display').innerHTML = 'Not enough money! Armor, weapon or leave?';
							current = function () {
								floop()
							}
						}
					} else if (question.toUpperCase() == "WEAPON") {
						if (money >= 15) {
							document.getElementById('display').innerHTML = "Your weapon goes up by 1 point! You lose 15 money. Armor, weapon or leave?";
							weapon += 1;
							money -= 15;
							console.log("Money: " + money + ". Weapon: " + weapon);
							current = function () {
								floop()
							}
						} else {
							document.getElementById('display').innerHTML = 'Not enough money! Armor, weapon or leave?';
							current = function () {
								floop()
							}
						}
					} else if (question.toUpperCase() == "FLOOP" || question.toUpperCase() == "LEAVE") {
						document.getElementById('display').innerHTML = "Floop: floop ya' lateR PARTNR'";
						setTimeout(function () {
							forestchoose()
						}, 1600);
					}
				} //current floop
			} //end of floop
			function arenachoose() {
				document.getElementById('display').innerHTML = "You arrive at the \"Dome of Death \"";
				if (question.toUpperCase() == "YES") {
					if ((Math.random() * 100 + 1) <= 5) {
						confirm('THE MUTANT has entered the match!');
						if (armor >= 13 && weapon >= 11) {
							confirm('You SLAYED THE MUTANT! +15xp, +50money');
							if (key == 1) {
								confirm('The cave trembles and echoes are heard...');
								key = 0;
							};
							xp += 15;
							money += 50;
							key = 0;
							console.log('money: ' + money + '+15xp')
							check();
							forestchoose()
						} else {
							confirm("You were PWNED by the mutant and sent to the hospital! Get better equipment!");
							money -= 10;
							checkm();
							console.log("Money: " + money);
							townchoose();
						}
					} else if ((Math.random() * 100 + 1) <= 20) {
						confirm('SKELETRON has entered the match!');
						if (armor >= 10 && weapon >= 7) {
							confirm('You PWNED SKELETRON and from his aqcuired +20money and +5xp');
							xp += 5;
							money += 20;
							check();
							forestchoose()
						} else {
							confirm('SKELETRON SENT YOU RUNNING BACK HOME!Get better equipment!');
							xp -= 1;
							money -= 5;
							checkm();
							console.log('Money: ' + money + " " + xp + "xp");
							townchoose()
						}
					} else if ((Math.random() * 100 + 1) <= 40) {
						confirm('INFECTED GLOB has entered the match!');
						if (armor >= 6 && weapon >= 7) {
							confirm('You killed the INFECTED GLOB! Gained +10money and +4xp');
							money += 10;
							xp += 4;
							check();
							forestchoose()
						} else {
							confirm('The Glob jaZZED you UP BACK to the hospital! -5money - Get better equipment!');
							money -= 5;
							checkm();
							console.log("Money: " + money)
							townchoose()
						}
					} else if ((Math.random() * 100 + 1) <= 60) {
						confirm('An imp joined the fight');
						if (armor >= 4 && weapon >= 4) {
							confirm('You SMACKED the imp! +15 money +2xp');
							money += 15;
							xp += 2;
							forestchoose()
						} else {
							confirm('Daaaang that imp frigged you UP! Go back home!  -3money - Get better equipment!');
							money -= 3;
							checkm()
							townchoose()
						}
					} else if ((Math.random() * 100 + 1) <= 70) {
						confirm('Goblins joined the battle-!');
						if (armor >= 2 && weapon >= 2) {
							confirm('You FLOOPED those goblins UP +15money +2xp');
							money += 15;
							xp += 2;
							checkm();
							check();
							forestchoose()
						} else {
							confirm('Snap! Those goblins diddled you! Go back home! Get better equipment!');
							townchoose();
						};
						money -= 3;
						checkm();
						townchoose()
					} else if ((Math.random() * 100 + 1) <= 100) {
						confirm('You fought a boot and won.. +5money');
						money += 5;
						forestchoose()
					}
				} else if (question.toUpperCase() == "NO") {
					document.getElementById('display').innerHTML = 'You head back...';
					setTimeout(function () {
						forestchoose()
					}, 1600);
				}
			}

			function huntchoose() {
				if ((Math.random() * 100) + 1 <= 10) {
					question = prompt('You hunted a unichord! It\'s going in your inventory.. Hunt again?').toUpperCase();
					inventory.push('Unichord');
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						document.getElementById('display').innerHTML = 'Heading back...';
						setTimeout(function () {
							forestchoose()
						}, 1600);
					} else {
						document.getElementById('display').innerHTML = 'Not an option';
						setTimeout(function () {
							forestchoose()
						}, 1600);
					}
				} else if ((Math.random() * 100) + 1 <= 20) {
					question = prompt('You hunted a goblin! He pays you to let him go. Hunt again?').toUpperCase();
					money += 10;
					console.log('Money: ' + money);
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 30) {
					question = prompt("You hunted a shell-snake! It\'s going in your inventory.. Hunt again?").toUpperCase();
					inventory.push('shell-snake');
					money += 3;
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 40) {
					question = prompt(name + ' hunted a grizzlor bear! It\'s going into your inventory! Hunt again?').toUpperCase();
					inventory.push('Grizzlor mama');
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 42) {
					question = prompt('You hunted a.. Kairy?! Kairy shines up your armor and runs back into the bushes. +1armor - Hunt again?').toUpperCase();
					armor += 1;
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 50) {
					question = prompt(name + ' hunted a... boot? You throw it away. Hunt again?').toUpperCase();
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 55) {
					question = prompt('You hunted a flying-butt! It\'s going in your inventory.. Hunt again?').toUpperCase();
					inventory.push('flying ass');
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 65) {
					question = prompt(name + ' hunted an ordinary rabbit. It\'s going in your inventory.. Hunt again?').toUpperCase();
					inventory.push('wabbit');
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else if ((Math.random() * 100) + 1 <= 75) {
					question = prompt('You hunted a pegavis! It\'s going in your inventory.. Hunt again?').toUpperCase();
					inventory.push('Pegavis');
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('Heading back...');
						forestchoose()
					} else {
						confirm('Not an option');
						forestchoose()
					}
				} else {
					question = prompt("You've been raided by imps! -50 money. Try again?").toUpperCase();
					money -= 50;
					checkm();
					console.log('Money: ' + money);
					if (question == "YES") {
						huntchoose()
					} else if (question == "NO") {
						confirm('You head back');
						forestchoose()
					} else {
						confirm('not an option');
						forestchoose()
					}
				}
			} //end of huntchoose
		} //current end forestcho;;ose
		current()
	} //end of forestchoose
var cavechoose = function () {
		if (key == 0) {
			if ((Math.random() * 100) + 1 <= 20) {
				confirm("You are attacked by a spider-skeleton-dungeon-keeper at the entrance!");
				if (armor >= 16 && weapon >= 12) {
					confirm('You kill the spider-skeleton. Let\'s enter.');
					cavechoose()
				} else {
					confirm('You were too weak to fight the spider-skeleton-dungeon-keeper. Get better equipment');
					townchoose()
				}
			} else {
				confirm('we have entered the cave.')
				confirm('it\'s dark, you cant see anything')
				question = prompt("Flames ignite besides you down a long corridor that lead towards two large doors. Enter?").toUpperCase();
				if (question == "YES") {
					confirm("You go throught the doors, as they close behind you, you find yourself in a massive chamber with a large world-devourer infront of you!");
					if (armor >= 30 && weapon >= 30) {
						confirm('You slice the devourer in two. killing it instantly because of your massive strength. YOU WIN!');
						key += 1;
						win()
					} else {
						confirm('The devourer expands his long putrid body out of the a massive hole in the wall, charging at you')
						if (armor >= 19 && weapon >= 10) {
							prompt('Attack or defend?', 'attack, defend').toUpperCase();
							if (question == "ATTACK" && weapon >= 12) {
								confirm('You destroy the devourer with one massive plasma blast. YOU WIN');
								win()
							} else {
								confirm('You defend against the mighty creature - but as you do, it begins circling around you. As a final resort you unleash all of your power, killing you and the creature, curing the world of the the devourer. You win the ULTIMATE HERO ENDING');
								confirm('Thank you for playing' + name + '!');
								document.getElementById('mainh').innerHTML = (name + ' the hero');
								reset()
							}
						} else {
							confirm('You were too weak to defend yourself. The devourer eats you up in one large gulp. Game Over. Try getting better gear');
							money -= 30;
							console.log(money);
							townchoose();
						}
					}
				} else if (question == "NO") {
					confirm("You run out of the cave and back to the town");
					townchoose()
				} else {
					confirm('not an option. You are pushed out of the cave');
					townchoose()
				}
			}
		} else {
			confirm('there is nothing here for you');
			townchoose()
		}
	} //end of cavechoose

function start() {
	$('#controls').show();
	$('#commies').show();
	$(".button").hide();
	current = function () {
		document.getElementById('display').innerHTML = "What is your name?";
		if (name == "0") {
			console.clear();
			if (question) {
				name = document.getElementById('inputBox').value;
				document.getElementById('display').innerHTML = "Let us begin, " + name + "!";
				setTimeout(function () {
					document.getElementById('display').innerHTML = 'Where do you want to go?';
				}, 1500);
				current = function () {
					if (question.toUpperCase() == "TOWN") {
						townchoose();
					} else if (question.toUpperCase() == "BEACH") {
						beachchoose();
					}
				}
			}
		}
	}
	current()
}

function win() {
	document.getElementById('mainh').innerHTML = (name);
	armor += 123;
	weapon += 98;
	lvl += 500;
	xp += 100000;
	money += 500;
	rod = -10000000;
	console.log('Your name: ' + name + '\bYour money: ' + money + '\b Your Safe: ' + safe + '\b Your rod dmg: ' + rod + '\b Your xp: ' + xp + '\b Your lvl: ' + lvl);
	question = prompt("You are the strongest hero go back to town?").toUpperCase();
	if (question == "YES") {
		townchoose()
	} else {
		confirm('Thank you for playing, ' + name + '!')
	}
}

function reset() {
	var name = "0";
	var lvl = 1;
	var xp = 0;
	var inventory = [];
	var money = 0;
	var safe = 0;
	var rod = 0;
	var armor = 0;
	var weapon = 0;
	var key = 1;
}
var check = function () {
	if (xp >= 10) {
		lvl += 1;
		confirm("You have leveled up to leveled up to level " + lvl + "!");
		xp -= 10;
		if (lvl == 2) {
			confirm('You can now go to the forest')
		} else if (lvl == 3) {
			confirm('You can now venture into the cave... At your own risk...');
		}
	}
}
var checkm = function () {
	if (money <= 0) {
		money = 0
	}
}

function startmusic(selected) {
	switch (selected) {
	case 'mario':
		mario.loop = true;
		mario.play();
		break;
	}
}

function nightmode() {
	document.getElementById('body').style.backgroundColor = "black";
	document.getElementById('button').style.backgroundColor = "grey";
}

function daymode() {
	document.getElementById('body').style.backgroundColor = "white";
	document.getElementByTagName('button').style.backgroundColor = "green";
}
//console.log cheats
function nameset(me) {
	name = me;
}

function addmoney(amount) {
	money += amount
}

function addxp(amount) {
	xp += amount
}

function addlvl(amount) {
	lvl += amount
}

function addarmor(amount) {
	armor += amount
}

function addweapon(amount) {
	weapon += amount
}

function rodremove(amount) {
	rod -= amount
}

function keyset(amount) {
	key = amount
}

function showme() {
	document.getElementById('display').innerHTML = 'NAME: ' + name + '\b MONEY, SAFE AND ROD: ' + money + ' ' + safe + ' ' + rod + '\b LVL AND XP: ' + lvl + ' ' + xp + '\b ARMOR AND WEAPON: ' + armor + ' ' + weapon;
	setTimeout(function () {
		current()
	}, 2500);
}

function dothis(dot) {
	if (dot == "beach") {
		beachchoose()
	} else if (dot == "fish") {
		fishing()
	} else if (dot == "swim") {
		swimming()
	} else if (dot == "town") {
		townchoose()
	} else if (dot == "forest") {
		forest()
	} else if (dot == "hunt") {
		huntchoose()
	} else if (dot == "floop") {
		floop()
	} else if (dot == "arena") {
		arenachoose()
	} else if (dot == "cave") {
		cavechoose()
	} else {
		console.log('unknown')
	}
}

function push(item) {
	inventory.push(item)
}
var submit = function () {
	question = document.getElementById('inputBox').value;
	current()
}
$('body').ready(function () {
	$('#controls').hide()
	$('#commies').hide()
	question = document.getElementById('inputBox').value;
})
</script>
<link href="https://f
onts.googleapis.com/css?family=Teko" rel="stylesheet">
</head>
<h1 id="mainh">EPIQUEST</h1>
<br>
<div id='controls'>
<h2 id='display'></h2>
<input id='inputBox' type='text' placeholder="type here..."><button onclick='submit()'>OK</button><bR>
<button id='commies' onclick='showme()'>See stats</button>
<Br>
</div>
<button id="button" class='button' onclick="start()">Start Game</button>
<br>
<button id="button" onclick="startmusic('mario')">Play lobby music</button>
<button id="button" onclick="nightmode()">Enable night theme</button>
<button id="button" onclick="daymode()">Enable day theme</button>
<br>
<br>
<h1 id="maph">Map</h1>
<img src="map.png">
<br>
<br>

</body>
<style>
* {
	box-sizing: border-box;
	font-family: 'Teko', sans-serif;
}
body{
	font-size: 140%;
}
#controls{
	text-align: center;
}
#display{
	background-color: grey;
}
#mainh{
	font-family: 'Teko', sans-serif, Arial;
	color:red;
	margin: auto;
	text-align: center;
	display: block;
	border-width: 7px 0 7px 0;
	border-color: red;
	border-style: solid;
	width:45%;
}
#maph {
	margin: auto;
	text-align: center;
	display: block;
}
#Important {
	font-size:58%;
	display: block;
	background-color: grey;
	margin-top: 5em;
	width: 50%;
	border-radius: 5px;
	border: 1px solid black;
	margin: auto;
	color: white;
	padding: 1em;
	text-align: center;
}
#button {
	margin: auto;
	display: block;
	text-align: center;
	border-radius: 0;
	background-color: green;
	color: white;
	width:50%;
}
#button:hover {
	margin: auto;
	display: block;
	text-align: center;
	border-radius: 1;
	background-color: red;
	color: white;
	width:50%;
}
img {
	margin: auto;
	min-width: 10em;
	max-width: 15em;
	display: block;
}

</style>
</html>
